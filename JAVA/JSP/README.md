# JSP란?

<br />

### JSP란?

- `JSP`는 `Java Server Pages`의 약자이며, `정적 컨텐츠`인 `HTML 코드`에 `JAVA 코드`를 넣어 `동적 컨텐츠`를 생성하는 웹 애플리케이션 개발 기술입니다.
- 이러한 JSP를 사용하면 자바 기술을 활용한 `데이터베이스 접근` 및 `비즈니스 로직 처리` 등의 구현을 수행할 수 있습니다.
- JSP가 실행되면 ****`서블릿 클래스`(Servlet)으로 `컴파일`되며, 아파치 톰캣과 같은 `웹 애플리케이션 서버`(WAS)의 환경에서 실행됩니다.
- 웹 어플리케이션 서버의 JVM 환경에서 `서블릿 코드`의 메서드가 실행 되면서 필요한 작업을 수행하고 생성된 데이터를 `웹 페이지`에 담아 클라이언트로 응답한다.
- JSP는 `HTML 코드`와 `JAVA 코드`를 분리하기 위해 `커스텀 태그` 및 `JSTL`(JSP Standard Tag Library)과 같은 `태그 라이브러리`를 사용합니다.
<br />

### JSP 동작 과정

  <img width="700" alt="Untitled" src="https://user-images.githubusercontent.com/88137420/231372347-9146f74d-e1ba-4e51-b50e-53fd1ffe81e0.png">


1. 클라이언트의 웹 브라우저에서 JSP 페이지 요청
2. 서블릿 컨테이너는 `스레드 풀`에서 `하나의 스레드`에 `HTTP 요청 작업`을 배치
3. JSP 페이지 요청 URL을 바탕으로 서블릿 컨테이너는 `서블릿 클래스`가 있는지 확인
4. 메타 데이터에 있는 `타임 스탬프`를 비교

&nbsp;&nbsp; 5-1. 서블릿 클래스가 존재하고 타임 스탬프의 차이가 없다면, 서블릿 클래스 내에서 HTML 페이지 직접 생성 및 반환

&nbsp;&nbsp; 5-2. 둘 중 하나라도 만족하지 못한다면, JSP 페이지 요청 주소를 기반으로 WEB-INF 디렉토리에서 .jsp 파일 요청 및 반환

6. .jsp 파일을 .java 파일로 변환
7. 컴파일을 통해 바이트 코드 생성
8. JVM을 통해 서블릿 인스턴스 생성 및 초기화 작업 수행
9. 서블릿 컨테이너는 `HTTP 요청 스레드`에 요청에 맞는 `디스패쳐 서블릿`(`서블릿 인스턴스`) 할당하고 적절한 메서드 호출 요청
10. 디스패쳐 서블릿은 호출 받은 메서드를 `적절한 컨트롤러`에 작업을 위임하고 `ModelAndView 객체`를 전달 받아서 적절한 `JSP 파일`에 데이터를 전달하고 랜더링 요청 후 HTML을 받습니다.
11. 여기에서 Model은 `.jsp 파일에 넣을 데이터`를 의미하고, View는 `.jsp 파일`의 위치를 의미합니다.
12. 랜더링 완료 후 파일은 서블릿 클래스에 저장 및 클라이언트에게 랜더링된 HTML 파일을 반환

<br />
