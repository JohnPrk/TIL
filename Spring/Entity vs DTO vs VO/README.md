# DTO vs Entity vs VO

<br>

- DTO(Data Transfer Object)
    - `레이어(계층)`간의 데이터를 전달하는 객체
    - 변수명과 getter/setter 메서드만 가지고 있는 가변 객체로 사용되나
    - 전송 중에 변조 되지 않음을 보장하기 위해 불변 객체로도 사용 가능하다.
    - Mybatis와 JPA 두 기술 모두에서 DTO를 사용할 수 있지만 특성이 다르다.
    - `Mybatis`의 DTO
        - Mybatis의 DTO는 DB와 `밀접한 관계`를 가지고 있다.
        - DB의 테이블의 `컬럼명`과 DTO 객체의 `변수명`을 동일하게 설정해야 한다.
        - DB의 테이블의 컬럼명과 DTO 객체의 DB는 각 DB사마다 다른 모습을 가지지만 대체적으로 대, 소문자 형태의 `snake_case`로 사용하고, 자바는 `CamelCase`를 사용하기 때문에 설정 XML파일에서 이를 변환 해주는 설정을 해야한다.
        - XML의 쿼리문에서 파라미터 설정을 통해서 DB에 쿼리한 결과 값을 DTO로 `매핑`할 수 있다.
        - 클라이언트의 요구사항과 DTO가 달라서 변경이 필요할 때, 또 다른 DTO나 VO를 사용한 변환이 필요하다.
        - Layer간 모든 요청과 응답에 DTO가 사용된다.
    - `JPA`의 DTO
        - JPA의 DTO는 DB와 아무런 연관 관계가 없다.
        - DB와의 연관 관계는 `Entity`를 통해서만 이뤄진다.
        - `서비스 레이어`에서 `Repository`를 통해 전달 받은 `Entity`를 DTO로 변환해서 `Application Layer`로 전달하는데 사용한다.
        - DB로부터 조회된 Entity는 View로 가기까지 불필요한 정보나 노출되면 안 되는 정보를 숨기고 클라이언트의 요구사항에 맞는 변환이 필요하다.
        - 데이터를 주고 받는 `일회성 생명주기`를 가진다.
<br>

- Entity
    - 실제 DB의 테이블과 1:1로 매핑되는 객체
    - 유일한 식별자인 id값을 포함한다.
    - 비지니스 로직과 자신의 상태(변수)를 수정하는 로직을 가질 수 있다.
    - 생명주기는 JPA가 관리한다.
<br>

- VO(Value Object)
    - 값 그 자체를 표현하는 객체
    - 서로 다른 주소 값을 가진 인스턴스라도 모든 속성 값이 같다면 같은 객체이다. → `Equals` & `hashCode` 재정의
    - 객체의 불변성을 보장한다.
    - 로직을 포함할 수 있다.
<br>
